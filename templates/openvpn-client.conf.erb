
client
remote <%= @remote_ip %> <%= @remote_port %>

proto udp
# We need to define a static interface to configure firewalling properly
dev <%= @tunif %>
nobind
comp-lzo
persist-key
persist-tun
keepalive 10 120

status openvpn-<%= @title %>-status.log
verb 4

# Certificates and keys
ca <%= scope['openvpn::params::config_dir'] %>/<%= @title %>-ca.crt
cert <%= scope['openvpn::params::config_dir'] %>/<%= @title %>.crt
key <%= scope['openvpn::params::config_dir'] %>/<%= @title %>.key
tls-auth <%= scope['openvpn::params::config_dir'] %>/<%= @title %>-ta.key 1

# Ensure that we're talking to a server
remote-cert-tls server

script-security 2
<%= @up_line %>
<%= @down_line %>
